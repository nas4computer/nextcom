<!DOCTYPE html>
<html>
<head>
<title>Nextcom CAC Status Check</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100">
<div class="max-w-xl mx-auto mt-20 bg-white p-6 rounded-xl shadow">
<h1 class="text-2xl font-bold mb-4">Check CAC Registration Status</h1>

<input id="query" class="input mb-4" placeholder="Company Name or Email">
<button onclick="check()" class="w-full bg-blue-700 text-white py-3 rounded">Check Status</button>
<div id="result" class="mt-4"></div>
</div>

<script>
const sheetURL="https://script.google.com/macros/s/AKfycby8TF4lpFKJ6t_ds6ciH9s2R5lR-bnT196sYPhJm0kN8XndPYpAimGi80WniBWlFWmj/exec";

async function check(){
  const q=document.getElementById("query").value;
  const r=await fetch(sheetURL+"?track="+encodeURIComponent(q));
  const d=await r.json();
  document.getElementById("result").innerHTML=
    d.found ? `<p>Status: <b>${d.status}</b></p><a href='${d.pdf}' class='text-blue-600'>Download PDF</a>` :
    `<p class='text-red-600'>No record found</p>`;
}
</script>
</body>
</html>
